---
title: "leaflegend Recipes"
author: "Thomas Roh"
date: '2022-07-31'
slug: leaflegend-recipes
categories:
  - R
tags:
  - leaflet
  - leaflegend
  - R
format: 
  hugo:
    fig-height: 2
    toc: true
---



<script src="recipes_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="recipes_files/libs/jquery-1.12.4/jquery.min.js"></script>
<link href="recipes_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="recipes_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="recipes_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="recipes_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="recipes_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="recipes_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="recipes_files/libs/leaflet-binding-2.1.1/leaflet.js"></script>
<link href="recipes_files/libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.css" rel="stylesheet" />
<script src="recipes_files/libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.min.js"></script>
<link href="recipes_files/libs/fontawesome-4.7.0/font-awesome.min.css" rel="stylesheet" />


-   <a href="#color-scales" id="toc-color-scales">Color Scales</a>
    -   <a href="#create-legend-for-a-continuous-scale" id="toc-create-legend-for-a-continuous-scale">Create Legend for a Continuous Scale</a>
    -   <a href="#create-legend-for-quantiles" id="toc-create-legend-for-quantiles">Create Legend for Quantiles</a>
    -   <a href="#create-legend-for-bins-change-legend-symbol" id="toc-create-legend-for-bins-change-legend-symbol">Create Legend for Bins &amp; Change Legend Symbol</a>
    -   <a href="#create-legend-for-factors-re-order" id="toc-create-legend-for-factors-re-order">Create Legend for Factors &amp; Re-order</a>
-   <a href="#symbols-size-scales" id="toc-symbols-size-scales">Symbols &amp; Size Scales</a>
    -   <a href="#legend-points-with-size-encoding" id="toc-legend-points-with-size-encoding">Legend &amp; Points with Size Encoding</a>
    -   <a href="#legend-points-with-double-encoding" id="toc-legend-points-with-double-encoding">Legend &amp; Points with Double Encoding</a>
    -   <a href="#legend-points-with-size-color-encoding" id="toc-legend-points-with-size-color-encoding">Legend &amp; Points with Size &amp; Color Encoding</a>
    -   <a href="#legend-points-with-symbol-encoding" id="toc-legend-points-with-symbol-encoding">Legend &amp; Points with Symbol Encoding</a>
    -   <a href="#legend-points-with-symbol-encoding-non-defaults" id="toc-legend-points-with-symbol-encoding-non-defaults">Legend &amp; Points with Symbol Encoding (Non-Defaults)</a>
    -   <a href="#legend-for-line-size-encodings" id="toc-legend-for-line-size-encodings">Legend for Line Size Encodings</a>
-   <a href="#images" id="toc-images">Images</a>
    -   <a href="#add-custom-images-to-a-legend" id="toc-add-custom-images-to-a-legend">Add Custom Images to a Legend</a>
    -   <a href="#generate-map-symbols" id="toc-generate-map-symbols">Generate Map Symbols</a>
    -   <a href="#add-awesome-marker-legend-specify-icon-as-text" id="toc-add-awesome-marker-legend-specify-icon-as-text">Add Awesome Marker Legend &amp; Specify Icon as Text</a>
-   <a href="#customization" id="toc-customization">Customization</a>
    -   <a href="#turn-off-legend-background" id="toc-turn-off-legend-background">Turn off Legend Background</a>
    -   <a href="#add-titles-with-styling" id="toc-add-titles-with-styling">Add Titles with Styling</a>
    -   <a href="#change-label-styling" id="toc-change-label-styling">Change Label Styling</a>
    -   <a href="#symbol-styling" id="toc-symbol-styling">Symbol Styling</a>
    -   <a href="#make-symbol-icons" id="toc-make-symbol-icons">Make Symbol Icons</a>
    -   <a href="#make-symbols-with-size-encodings" id="toc-make-symbols-with-size-encodings">Make Symbols with Size Encodings</a>
    -   <a href="#legends-with-overlay-controls" id="toc-legends-with-overlay-controls">Legends with Overlay Controls</a>

*Requires leaflegend \>= 1.0.0*

#### Base Data and Map

``` r
library(leaflet)
library(leaflegend)
mapData <- data.frame(x = c(2, 1, 5, 4,3) , y = c('A', 'B', 'C', 'B', 'A'), 
                      lng = -(118:122), lat = rep(42, 5))
map <- leaflet::leaflet(data = mapData, 
                        options = leafletOptions(zoomControl = FALSE))
```

## Color Scales

### Create Legend for a Continuous Scale

``` r
numPal <- colorNumeric('inferno', mapData$x)
map |> addLegendNumeric(pal = numPal, values = ~x, decreasing = TRUE) |> 
  addLegendNumeric(pal = numPal, values = ~x, orientation = 'horizontal',
                   width = 120, height = 20, position = 'topright')
```

<div id="htmlwidget-a8bf81b46f264010a9d0" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-a8bf81b46f264010a9d0">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div style=\"display: flex;\">\n  <div style=\"margin-right: 5px\">\n    <svg width=\"24\" height=\"100\">\n      <defs>\n        <linearGradient id=\"gradient-x-1\" x1=\"0\" y1=\"1\" x2=\"0\" y2=\"0\">\n          <stop offset=\"0.000000%\" stop-color=\"#000004\"><\/stop>\n          <stop offset=\"12.500000%\" stop-color=\"#210C4A\"><\/stop>\n          <stop offset=\"25.000000%\" stop-color=\"#57106E\"><\/stop>\n          <stop offset=\"37.500000%\" stop-color=\"#89226A\"><\/stop>\n          <stop offset=\"50.000000%\" stop-color=\"#BB3655\"><\/stop>\n          <stop offset=\"62.500000%\" stop-color=\"#E35932\"><\/stop>\n          <stop offset=\"75.000000%\" stop-color=\"#F98D0A\"><\/stop>\n          <stop offset=\"87.500000%\" stop-color=\"#F9C932\"><\/stop>\n          <stop offset=\"100.000000%\" stop-color=\"#FCFFA4\"><\/stop>\n        <\/linearGradient>\n      <\/defs>\n      <g>\n        <rect height=\"100\" width=\"20\" x=\"0\" rx=\"0%\" fill-opacity=\"1\" fill=\"url(#gradient-x-1)\"><\/rect>\n      <\/g>\n      <line x1=\"20\" x2=\"24\" y1=\"12.5\" y2=\"12.5\" stroke-width=\"1\" stroke=\"black\"><\/line>\n      <line x1=\"20\" x2=\"24\" y1=\"25\" y2=\"25\" stroke-width=\"1\" stroke=\"black\"><\/line>\n      <line x1=\"20\" x2=\"24\" y1=\"37.5\" y2=\"37.5\" stroke-width=\"1\" stroke=\"black\"><\/line>\n      <line x1=\"20\" x2=\"24\" y1=\"50\" y2=\"50\" stroke-width=\"1\" stroke=\"black\"><\/line>\n      <line x1=\"20\" x2=\"24\" y1=\"62.5\" y2=\"62.5\" stroke-width=\"1\" stroke=\"black\"><\/line>\n      <line x1=\"20\" x2=\"24\" y1=\"75\" y2=\"75\" stroke-width=\"1\" stroke=\"black\"><\/line>\n      <line x1=\"20\" x2=\"24\" y1=\"87.5\" y2=\"87.5\" stroke-width=\"1\" stroke=\"black\"><\/line>\n    <\/svg>\n  <\/div>\n  <div style=\"width: 16.875px; height: 100px; position: relative; \" class=\"container\">\n    <div style=\"position:absolute; left:0px; top: 3.5px;\">4.5<\/div>\n    <div style=\"position:absolute; left:10.125px; top: 16px;\">4<\/div>\n    <div style=\"position:absolute; left:0px; top: 28.5px;\">3.5<\/div>\n    <div style=\"position:absolute; left:10.125px; top: 41px;\">3<\/div>\n    <div style=\"position:absolute; left:0px; top: 53.5px;\">2.5<\/div>\n    <div style=\"position:absolute; left:10.125px; top: 66px;\">2<\/div>\n    <div style=\"position:absolute; left:0px; top: 78.5px;\">1.5<\/div>\n  <\/div>\n  <div style=\"width: 8px; position: relative;\"><\/div>\n<\/div>","topleft",null,"info legend leaflet-control"]},{"method":"addControl","args":["<div style=\"margin-right: 3.375px; margin-left: 3.375px\">\n  <svg width=\"120\" height=\"24\">\n    <defs>\n      <linearGradient id=\"gradient-x-2\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n        <stop offset=\"0.000000%\" stop-color=\"#000004\"><\/stop>\n        <stop offset=\"12.500000%\" stop-color=\"#210C4A\"><\/stop>\n        <stop offset=\"25.000000%\" stop-color=\"#57106E\"><\/stop>\n        <stop offset=\"37.500000%\" stop-color=\"#89226A\"><\/stop>\n        <stop offset=\"50.000000%\" stop-color=\"#BB3655\"><\/stop>\n        <stop offset=\"62.500000%\" stop-color=\"#E35932\"><\/stop>\n        <stop offset=\"75.000000%\" stop-color=\"#F98D0A\"><\/stop>\n        <stop offset=\"87.500000%\" stop-color=\"#F9C932\"><\/stop>\n        <stop offset=\"100.000000%\" stop-color=\"#FCFFA4\"><\/stop>\n      <\/linearGradient>\n    <\/defs>\n    <g>\n      <rect height=\"20\" width=\"120\" x=\"0\" rx=\"0%\" fill-opacity=\"1\" fill=\"url(#gradient-x-2)\"><\/rect>\n    <\/g>\n    <line x1=\"0\" x2=\"0\" y1=\"20\" y2=\"24\" stroke-width=\"1\" stroke=\"black\"><\/line>\n    <line x1=\"120\" x2=\"120\" y1=\"20\" y2=\"24\" stroke-width=\"1\" stroke=\"black\"><\/line>\n  <\/svg>\n<\/div>\n<div style=\"width: 100%; height: 1rem; position: relative; \">\n  <div style=\"position:absolute; left:0px; top: 0px;\">1<\/div>\n  <div style=\"position:absolute; left:120px; top: 0px;\">5<\/div>\n<\/div>","topright",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Create Legend for Quantiles

``` r
quantPal <- colorQuantile('Reds', mapData$x, n = 3)
map |> addLegendQuantile(pal = quantPal, values = ~x) |> 
  addLegendQuantile(pal = quantPal, values = ~x, numberFormat = NULL, 
                    position = 'topright')
```

<div id="htmlwidget-6bf2ec246fb9c9f25a2a" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6bf2ec246fb9c9f25a2a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23FEE0D2%22%20fill%3D%22%23FEE0D2%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \">  0% -  33% (1 - 2)<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23FC9272%22%20fill%3D%22%23FC9272%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> 33% -  67% (2 - 4)<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23DE2D26%22%20fill%3D%22%23DE2D26%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> 67% - 100% (4 - 5)<\/span>\n<br/>","topleft",null,"info legend leaflet-control"]},{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23FEE0D2%22%20fill%3D%22%23FEE0D2%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \">   0% -  33%<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23FC9272%22%20fill%3D%22%23FC9272%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \">  33% -  67%<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23DE2D26%22%20fill%3D%22%23DE2D26%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \">  67% - 100%<\/span>\n<br/>","topright",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Create Legend for Bins & Change Legend Symbol

``` r
binPal <- colorBin(c('grey', 'blue'), mapData$x, bins = 3, pretty = FALSE)
map |> addLegendBin(pal = binPal, shape = 'triangle')
```

<div id="htmlwidget-6a8f33c1322b2bb19c5e" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6a8f33c1322b2bb19c5e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C25%2025%2C25%2013%2C1%22%20stroke%3D%22%23BEBEBE%22%20fill%3D%22%23BEBEBE%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> 1.000 - 2.333<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C25%2025%2C25%2013%2C1%22%20stroke%3D%22%23926DE1%22%20fill%3D%22%23926DE1%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> 2.333 - 3.667<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C25%2025%2C25%2013%2C1%22%20stroke%3D%22%230000FF%22%20fill%3D%22%230000FF%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> 3.667 - 5.000<\/span>\n<br/>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Create Legend for Factors & Re-order

``` r
factorPal <- colorFactor('Dark2', domain = mapData$y)
reOrder <- c('C', 'A', 'B')
factorPalRev <- colorFactor('Dark2', domain = reOrder, ordered = TRUE)
map |> addLegendFactor(pal = factorPal, values = ~y) |> 
  addLegendFactor(pal = factorPalRev, values = ~factor(y, levels = reOrder), 
                  position = 'topright')
```

<div id="htmlwidget-566e35dc2fb5e0b0b0d5" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-566e35dc2fb5e0b0b0d5">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> C<\/span>\n<br/>","topleft",null,"info legend leaflet-control"]},{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> C<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> B<\/span>\n<br/>","topright",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

## Symbols & Size Scales

### Legend & Points with Size Encoding

``` r
map |> addLegendSize(values = ~x, color = 'black', shape  = 'plus', breaks = 3) |> 
  addSymbolsSize(lng = ~lng, lat = ~lat, values = ~x, shape = 'plus', 
                 color = 'black')
```

<div id="htmlwidget-a81a2823474f838a0c59" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-a81a2823474f838a0c59">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%223.66666666666667%2C1%203.66666666666667%2C3.66666666666667%201%2C3.66666666666667%201%2C5%203.66666666666667%2C5%203.66666666666667%2C7.66666666666667%205%2C7.66666666666667%205%2C5%207.66666666666667%2C5%207.66666666666667%2C3.66666666666667%205%2C3.66666666666667%205%2C1%203.66666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 13.3333333333333px; margin-left: 13.3333333333333px\" height=\"6.66666666666667\" width=\"6.66666666666667\"/>\n  <span style=\"\">1<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%226.33333333333333%2C1%206.33333333333333%2C6.33333333333333%201%2C6.33333333333333%201%2C9%206.33333333333333%2C9%206.33333333333333%2C14.3333333333333%209%2C14.3333333333333%209%2C9%2014.3333333333333%2C9%2014.3333333333333%2C6.33333333333333%209%2C6.33333333333333%209%2C1%206.33333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 10px; margin-left: 10px\" height=\"13.3333333333333\" width=\"13.3333333333333\"/>\n  <span style=\"\">2<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%229%2C1%209%2C9%201%2C9%201%2C13%209%2C13%209%2C21%2013%2C21%2013%2C13%2021%2C13%2021%2C9%2013%2C9%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 6.66666666666667px; margin-left: 6.66666666666667px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">3<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2211.6666666666667%2C1%2011.6666666666667%2C11.6666666666667%201%2C11.6666666666667%201%2C17%2011.6666666666667%2C17%2011.6666666666667%2C27.6666666666667%2017%2C27.6666666666667%2017%2C17%2027.6666666666667%2C17%2027.6666666666667%2C11.6666666666667%2017%2C11.6666666666667%2017%2C1%2011.6666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 3.33333333333334px; margin-left: 3.33333333333334px\" height=\"26.6666666666667\" width=\"26.6666666666667\"/>\n  <span style=\"\">4<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2214.3333333333333%2C1%2014.3333333333333%2C14.3333333333333%201%2C14.3333333333333%201%2C21%2014.3333333333333%2C21%2014.3333333333333%2C34.3333333333333%2021%2C34.3333333333333%2021%2C21%2034.3333333333333%2C21%2034.3333333333333%2C14.3333333333333%2021%2C14.3333333333333%2021%2C1%2014.3333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"33.3333333333333\" width=\"33.3333333333333\"/>\n  <span style=\"\">5<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]},{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%226.33333333333333%2C1%206.33333333333333%2C6.33333333333333%201%2C6.33333333333333%201%2C9%206.33333333333333%2C9%206.33333333333333%2C14.3333333333333%209%2C14.3333333333333%209%2C9%2014.3333333333333%2C9%2014.3333333333333%2C6.33333333333333%209%2C6.33333333333333%209%2C1%206.33333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%223.66666666666667%2C1%203.66666666666667%2C3.66666666666667%201%2C3.66666666666667%201%2C5%203.66666666666667%2C5%203.66666666666667%2C7.66666666666667%205%2C7.66666666666667%205%2C5%207.66666666666667%2C5%207.66666666666667%2C3.66666666666667%205%2C3.66666666666667%205%2C1%203.66666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2214.3333333333333%2C1%2014.3333333333333%2C14.3333333333333%201%2C14.3333333333333%201%2C21%2014.3333333333333%2C21%2014.3333333333333%2C34.3333333333333%2021%2C34.3333333333333%2021%2C21%2034.3333333333333%2C21%2034.3333333333333%2C14.3333333333333%2021%2C14.3333333333333%2021%2C1%2014.3333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2211.6666666666667%2C1%2011.6666666666667%2C11.6666666666667%201%2C11.6666666666667%201%2C17%2011.6666666666667%2C17%2011.6666666666667%2C27.6666666666667%2017%2C27.6666666666667%2017%2C17%2027.6666666666667%2C17%2027.6666666666667%2C11.6666666666667%2017%2C11.6666666666667%2017%2C1%2011.6666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%229%2C1%209%2C9%201%2C9%201%2C13%209%2C13%209%2C21%2013%2C21%2013%2C13%2021%2C13%2021%2C9%2013%2C9%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2,3,4]},"iconAnchorX":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10],"iconAnchorY":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10]},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Legend & Points with Double Encoding

``` r
map |> addLegendSize(values = ~x, shape  = 'plus', breaks = 3, pal = numPal,
                     color = 'black') |> 
  addSymbolsSize(lng = ~lng, lat = ~lat, values = ~x, shape = 'plus', 
                 color = 'black', fillColor = ~numPal(x))
```

<div id="htmlwidget-6e036317c9eb0c56d5bd" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6e036317c9eb0c56d5bd">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%223.66666666666667%2C1%203.66666666666667%2C3.66666666666667%201%2C3.66666666666667%201%2C5%203.66666666666667%2C5%203.66666666666667%2C7.66666666666667%205%2C7.66666666666667%205%2C5%207.66666666666667%2C5%207.66666666666667%2C3.66666666666667%205%2C3.66666666666667%205%2C1%203.66666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23000004%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 13.3333333333333px; margin-left: 13.3333333333333px\" height=\"6.66666666666667\" width=\"6.66666666666667\"/>\n  <span style=\"\">1<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%226.33333333333333%2C1%206.33333333333333%2C6.33333333333333%201%2C6.33333333333333%201%2C9%206.33333333333333%2C9%206.33333333333333%2C14.3333333333333%209%2C14.3333333333333%209%2C9%2014.3333333333333%2C9%2014.3333333333333%2C6.33333333333333%209%2C6.33333333333333%209%2C1%206.33333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22%2357106E%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 10px; margin-left: 10px\" height=\"13.3333333333333\" width=\"13.3333333333333\"/>\n  <span style=\"\">2<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%229%2C1%209%2C9%201%2C9%201%2C13%209%2C13%209%2C21%2013%2C21%2013%2C13%2021%2C13%2021%2C9%2013%2C9%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23BB3655%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 6.66666666666667px; margin-left: 6.66666666666667px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">3<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2211.6666666666667%2C1%2011.6666666666667%2C11.6666666666667%201%2C11.6666666666667%201%2C17%2011.6666666666667%2C17%2011.6666666666667%2C27.6666666666667%2017%2C27.6666666666667%2017%2C17%2027.6666666666667%2C17%2027.6666666666667%2C11.6666666666667%2017%2C11.6666666666667%2017%2C1%2011.6666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23F98D0A%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 3.33333333333334px; margin-left: 3.33333333333334px\" height=\"26.6666666666667\" width=\"26.6666666666667\"/>\n  <span style=\"\">4<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2214.3333333333333%2C1%2014.3333333333333%2C14.3333333333333%201%2C14.3333333333333%201%2C21%2014.3333333333333%2C21%2014.3333333333333%2C34.3333333333333%2021%2C34.3333333333333%2021%2C21%2034.3333333333333%2C21%2034.3333333333333%2C14.3333333333333%2021%2C14.3333333333333%2021%2C1%2014.3333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23FCFFA4%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"33.3333333333333\" width=\"33.3333333333333\"/>\n  <span style=\"\">5<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]},{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%226.33333333333333%2C1%206.33333333333333%2C6.33333333333333%201%2C6.33333333333333%201%2C9%206.33333333333333%2C9%206.33333333333333%2C14.3333333333333%209%2C14.3333333333333%209%2C9%2014.3333333333333%2C9%2014.3333333333333%2C6.33333333333333%209%2C6.33333333333333%209%2C1%206.33333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22%2357106E%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%223.66666666666667%2C1%203.66666666666667%2C3.66666666666667%201%2C3.66666666666667%201%2C5%203.66666666666667%2C5%203.66666666666667%2C7.66666666666667%205%2C7.66666666666667%205%2C5%207.66666666666667%2C5%207.66666666666667%2C3.66666666666667%205%2C3.66666666666667%205%2C1%203.66666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23000004%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2214.3333333333333%2C1%2014.3333333333333%2C14.3333333333333%201%2C14.3333333333333%201%2C21%2014.3333333333333%2C21%2014.3333333333333%2C34.3333333333333%2021%2C34.3333333333333%2021%2C21%2034.3333333333333%2C21%2034.3333333333333%2C14.3333333333333%2021%2C14.3333333333333%2021%2C1%2014.3333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23FCFFA4%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2211.6666666666667%2C1%2011.6666666666667%2C11.6666666666667%201%2C11.6666666666667%201%2C17%2011.6666666666667%2C17%2011.6666666666667%2C27.6666666666667%2017%2C27.6666666666667%2017%2C17%2027.6666666666667%2C17%2027.6666666666667%2C11.6666666666667%2017%2C11.6666666666667%2017%2C1%2011.6666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23F98D0A%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%229%2C1%209%2C9%201%2C9%201%2C13%209%2C13%209%2C21%2013%2C21%2013%2C13%2021%2C13%2021%2C9%2013%2C9%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23BB3655%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2,3,4]},"iconAnchorX":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10],"iconAnchorY":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10]},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Legend & Points with Size & Color Encoding

``` r
map |> addLegendSize(values = ~x, shape  = 'plus', breaks = 3, pal = numPal,
                     color = 'black', fillColor = 'transparent') |> 
  addSymbolsSize(lng = ~lng, lat = ~lat, values = ~x, shape = 'plus', 
                 color = 'black', fillColor = ~factorPal(y)) |> 
  addLegendFactor(pal = factorPal, values = ~y, position = 'topright')
```

<div id="htmlwidget-8e8d03c72f6357550b69" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-8e8d03c72f6357550b69">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%223.66666666666667%2C1%203.66666666666667%2C3.66666666666667%201%2C3.66666666666667%201%2C5%203.66666666666667%2C5%203.66666666666667%2C7.66666666666667%205%2C7.66666666666667%205%2C5%207.66666666666667%2C5%207.66666666666667%2C3.66666666666667%205%2C3.66666666666667%205%2C1%203.66666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22transparent%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 13.3333333333333px; margin-left: 13.3333333333333px\" height=\"6.66666666666667\" width=\"6.66666666666667\"/>\n  <span style=\"\">1<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%226.33333333333333%2C1%206.33333333333333%2C6.33333333333333%201%2C6.33333333333333%201%2C9%206.33333333333333%2C9%206.33333333333333%2C14.3333333333333%209%2C14.3333333333333%209%2C9%2014.3333333333333%2C9%2014.3333333333333%2C6.33333333333333%209%2C6.33333333333333%209%2C1%206.33333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22transparent%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 10px; margin-left: 10px\" height=\"13.3333333333333\" width=\"13.3333333333333\"/>\n  <span style=\"\">2<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%229%2C1%209%2C9%201%2C9%201%2C13%209%2C13%209%2C21%2013%2C21%2013%2C13%2021%2C13%2021%2C9%2013%2C9%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22transparent%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 6.66666666666667px; margin-left: 6.66666666666667px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">3<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2211.6666666666667%2C1%2011.6666666666667%2C11.6666666666667%201%2C11.6666666666667%201%2C17%2011.6666666666667%2C17%2011.6666666666667%2C27.6666666666667%2017%2C27.6666666666667%2017%2C17%2027.6666666666667%2C17%2027.6666666666667%2C11.6666666666667%2017%2C11.6666666666667%2017%2C1%2011.6666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22transparent%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 3.33333333333334px; margin-left: 3.33333333333334px\" height=\"26.6666666666667\" width=\"26.6666666666667\"/>\n  <span style=\"\">4<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2214.3333333333333%2C1%2014.3333333333333%2C14.3333333333333%201%2C14.3333333333333%201%2C21%2014.3333333333333%2C21%2014.3333333333333%2C34.3333333333333%2021%2C34.3333333333333%2021%2C21%2034.3333333333333%2C21%2034.3333333333333%2C14.3333333333333%2021%2C14.3333333333333%2021%2C1%2014.3333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22transparent%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"33.3333333333333\" width=\"33.3333333333333\"/>\n  <span style=\"\">5<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]},{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%226.33333333333333%2C1%206.33333333333333%2C6.33333333333333%201%2C6.33333333333333%201%2C9%206.33333333333333%2C9%206.33333333333333%2C14.3333333333333%209%2C14.3333333333333%209%2C9%2014.3333333333333%2C9%2014.3333333333333%2C6.33333333333333%209%2C6.33333333333333%209%2C1%206.33333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%223.66666666666667%2C1%203.66666666666667%2C3.66666666666667%201%2C3.66666666666667%201%2C5%203.66666666666667%2C5%203.66666666666667%2C7.66666666666667%205%2C7.66666666666667%205%2C5%207.66666666666667%2C5%207.66666666666667%2C3.66666666666667%205%2C3.66666666666667%205%2C1%203.66666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2214.3333333333333%2C1%2014.3333333333333%2C14.3333333333333%201%2C14.3333333333333%201%2C21%2014.3333333333333%2C21%2014.3333333333333%2C34.3333333333333%2021%2C34.3333333333333%2021%2C21%2034.3333333333333%2C21%2034.3333333333333%2C14.3333333333333%2021%2C14.3333333333333%2021%2C1%2014.3333333333333%2C1%22%20stroke%3D%22black%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2211.6666666666667%2C1%2011.6666666666667%2C11.6666666666667%201%2C11.6666666666667%201%2C17%2011.6666666666667%2C17%2011.6666666666667%2C27.6666666666667%2017%2C27.6666666666667%2017%2C17%2027.6666666666667%2C17%2027.6666666666667%2C11.6666666666667%2017%2C11.6666666666667%2017%2C1%2011.6666666666667%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%229%2C1%209%2C9%201%2C9%201%2C13%209%2C13%209%2C21%2013%2C21%2013%2C13%2021%2C13%2021%2C9%2013%2C9%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2,3,4]},"iconAnchorX":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10],"iconAnchorY":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10]},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> C<\/span>\n<br/>","topright",null,"info legend leaflet-control"]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Legend & Points with Symbol Encoding

``` r
map |> addSymbols(lng = ~lng, lat = ~lat, values = ~y, color = 'black') |> 
  addLegendSymbol(values = ~y, color = 'black')
```

<div id="htmlwidget-7d3dcd0644e2e0d20249" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-7d3dcd0644e2e0d20249">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2220%22%20width%3D%2220%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Ccircle%20id%3D%22circle%22%20cx%3D%2211%22%20cy%3D%2211%22%20r%3D%2210%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fcircle%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C21%2021%2C21%2011%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2,1,0]},"iconAnchorX":10,"iconAnchorY":10},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addControl","args":["<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2220%22%20width%3D%2220%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">A<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Ccircle%20id%3D%22circle%22%20cx%3D%2211%22%20cy%3D%2211%22%20r%3D%2210%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fcircle%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">B<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C21%2021%2C21%2011%2C1%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">C<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Legend & Points with Symbol Encoding (Non-Defaults)

``` r
map |> addSymbols(lng = ~lng, lat = ~lat, values = ~y, fillColor = ~factorPal(y),
                  color = 'black',
                  shape = c('cross', 'diamond', 'star')) |> 
  addLegendSymbol(values = ~y, pal = factorPal, 
                  shape = c('cross', 'diamond', 'star'), color = 'black')
```

<div id="htmlwidget-3bfc513cc33824e59a9e" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-3bfc513cc33824e59a9e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22cross%22%20points%3D%223.82842712474619%2C1%201%2C3.82842712474619%208.17157287525381%2C11%201%2C18.1715728752538%203.82842712474619%2C21%2011%2C13.8284271247462%2018.1715728752538%2C21%2021%2C18.1715728752538%2013.8284271247462%2C11%2021%2C3.82842712474619%2018.1715728752538%2C1%2011%2C8.17157287525381%203.82842712474619%2C1%22%20stroke%3D%22black%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22diamond%22%20points%3D%2211%2C1%201%2C11%2011%2C21%2021%2C11%2011%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22star%22%20points%3D%229%2C1%209%2C6.171572%203.828428%2C1%201%2C3.828428%206.171572%2C9%201%2C9%201%2C13%206.171572%2C13%201%2C18.171572%203.828428%2C21%209%2C15.828428%209%2C21%2013%2C21%2013%2C15.828428%2018.171572%2C21%2021%2C18.171572%2015.828428%2C13%2021%2C13%2021%2C9%2015.828428%2C9%2021%2C3.828428%2018.171572%2C1%2013%2C6.171572%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2,1,0]},"iconAnchorX":10,"iconAnchorY":10},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addControl","args":["<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22cross%22%20points%3D%223.82842712474619%2C1%201%2C3.82842712474619%208.17157287525381%2C11%201%2C18.1715728752538%203.82842712474619%2C21%2011%2C13.8284271247462%2018.1715728752538%2C21%2021%2C18.1715728752538%2013.8284271247462%2C11%2021%2C3.82842712474619%2018.1715728752538%2C1%2011%2C8.17157287525381%203.82842712474619%2C1%22%20stroke%3D%22black%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">A<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22diamond%22%20points%3D%2211%2C1%201%2C11%2011%2C21%2021%2C11%2011%2C1%22%20stroke%3D%22black%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">B<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22star%22%20points%3D%229%2C1%209%2C6.171572%203.828428%2C1%201%2C3.828428%206.171572%2C9%201%2C9%201%2C13%206.171572%2C13%201%2C18.171572%203.828428%2C21%209%2C15.828428%209%2C21%2013%2C21%2013%2C15.828428%2018.171572%2C21%2021%2C18.171572%2015.828428%2C13%2021%2C13%2021%2C9%2015.828428%2C9%2021%2C3.828428%2018.171572%2C1%2013%2C6.171572%2013%2C1%209%2C1%22%20stroke%3D%22black%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"\">C<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Legend for Line Size Encodings

``` r
map |> addLegendLine(values = ~x, color = 'black', orientation = 'horizontal',
                     width = 50)
```

<div id="htmlwidget-72eb91270aa4eb548f2e" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-72eb91270aa4eb548f2e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2250%22%20height%3D%223.33333333333333%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%220%22%20y%3D%220%22%20height%3D%223.33333333333333%22%20width%3D%2250%22%20stroke%3D%22transparent%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"3.33333333333333\" width=\"50\"/>\n  <span style=\"\">1<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2250%22%20height%3D%226.66666666666667%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%220%22%20y%3D%220%22%20height%3D%226.66666666666667%22%20width%3D%2250%22%20stroke%3D%22transparent%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"6.66666666666667\" width=\"50\"/>\n  <span style=\"\">2<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2250%22%20height%3D%2210%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%220%22%20y%3D%220%22%20height%3D%2210%22%20width%3D%2250%22%20stroke%3D%22transparent%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"10\" width=\"50\"/>\n  <span style=\"\">3<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2250%22%20height%3D%2213.3333333333333%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%220%22%20y%3D%220%22%20height%3D%2213.3333333333333%22%20width%3D%2250%22%20stroke%3D%22transparent%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"13.3333333333333\" width=\"50\"/>\n  <span style=\"\">4<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2250%22%20height%3D%2216.6666666666667%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%220%22%20y%3D%220%22%20height%3D%2216.6666666666667%22%20width%3D%2250%22%20stroke%3D%22transparent%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16.6666666666667\" width=\"50\"/>\n  <span style=\"\">5<\/span>\n<\/span>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

## Images

### Add Custom Images to a Legend

``` r
# use raster image
leafImg <- system.file('img/leaf-blue.png', package = 'leaflegend')
# use svg
circle <- makeSymbol('rect', fillColor = 'red', color = 'black', width = 20)
map |> 
  addLegendImage(images = list(leafImg, circle), labels = c('png', 'svg'),
                 height = 30, width = 20)
```

<div id="htmlwidget-27a9a3a2a0965ee5810a" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-27a9a3a2a0965ee5810a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <strong><\/strong>\n<\/div>\n<div>\n  <img src=\"data:image/png;base64,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\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"30\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">png<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2220%22%20width%3D%2220%22%20stroke%3D%22black%22%20fill%3D%22red%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"30\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">svg<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Generate Map Symbols

``` r
shapes <- c('rect', 'circle', 'triangle', 'plus', 'cross', 'star')
colors <- c('blue', 'red', 'yellow', 'green', 'orange', 'purple')
symbols <- Map(f = makeSymbol, shape = shapes, fillColor = colors, 
               color = 'black', opacity = 1, fillOpacity = .5, width = 20, 
               `stroke-width` = 2)
map |> addLegendImage(images = symbols, labels = shapes, 
                      orientation = 'horizontal')
```

<div id="htmlwidget-e6a004719db23d680875" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-e6a004719db23d680875">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <strong><\/strong>\n<\/div>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%222%22%20y%3D%222%22%20height%3D%2220%22%20width%3D%2220%22%20stroke%3D%22black%22%20fill%3D%22blue%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%222%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">rect<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Ccircle%20id%3D%22circle%22%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2210%22%20stroke%3D%22black%22%20fill%3D%22red%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%222%22%3E%3C%2Fcircle%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">circle<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%222%2C22%2022%2C22%2012%2C2%22%20stroke%3D%22black%22%20fill%3D%22yellow%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%222%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">triangle<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Cpolygon%20id%3D%22plus%22%20points%3D%2210%2C2%2010%2C10%202%2C10%202%2C14%2010%2C14%2010%2C22%2014%2C22%2014%2C14%2022%2C14%2022%2C10%2014%2C10%2014%2C2%2010%2C2%22%20stroke%3D%22black%22%20fill%3D%22green%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%222%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">plus<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Cpolygon%20id%3D%22cross%22%20points%3D%224.82842712474619%2C2%202%2C4.82842712474619%209.17157287525381%2C12%202%2C19.1715728752538%204.82842712474619%2C22%2012%2C14.8284271247462%2019.1715728752538%2C22%2022%2C19.1715728752538%2014.8284271247462%2C12%2022%2C4.82842712474619%2019.1715728752538%2C2%2012%2C9.17157287525381%204.82842712474619%2C2%22%20stroke%3D%22black%22%20fill%3D%22orange%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%222%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">cross<\/span>\n<\/span>\n<span>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Cpolygon%20id%3D%22star%22%20points%3D%2210%2C2%2010%2C7.171572%204.828428%2C2%202%2C4.828428%207.171572%2C10%202%2C10%202%2C14%207.171572%2C14%202%2C19.171572%204.828428%2C22%2010%2C16.828428%2010%2C22%2014%2C22%2014%2C16.828428%2019.171572%2C22%2022%2C19.171572%2016.828428%2C14%2022%2C14%2022%2C10%2016.828428%2C10%2022%2C4.828428%2019.171572%2C2%2014%2C7.171572%2014%2C2%2010%2C2%22%20stroke%3D%22black%22%20fill%3D%22purple%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%222%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"20\" width=\"20\"/>\n  <span style=\"font-size: 24px; vertical-align: middle;\">star<\/span>\n<\/span>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Add Awesome Marker Legend & Specify Icon as Text

``` r
iconSet <- awesomeIconList(
  `Font Awesome` = makeAwesomeIcon(icon = "font-awesome", library = "fa",
                                   markerColor= 'red', iconColor = 'black'),
  Ionic = makeAwesomeIcon(icon='R', library = 'fa', 
                          text = fontawesome::fa("r-project"))
)
map |> addLegendAwesomeIcon(iconSet = iconSet)
```

<div id="htmlwidget-8754a171768ac8874234" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-8754a171768ac8874234">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <div style=\"vertical-align: middle; display: inline-block; position: relative;\" class=\"awesome-marker-icon-red awesome-marker \">\n    <i class=\"fa fa-font-awesome \" style=\"color: black; ; margin-right: 0px\"><\/i>\n  <\/div>\n  <span style=\"\">Font Awesome<\/span>\n<\/div>\n<div>\n  <div style=\"vertical-align: middle; display: inline-block; position: relative;\" class=\"awesome-marker-icon-blue awesome-marker \">\n    <i class=\"fa fa-R \" style=\"color: white; ; margin-right: 0px\"><svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/><\/svg><\/i>\n  <\/div>\n  <span style=\"\">Ionic<\/span>\n<\/div>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

## Customization

### Turn off Legend Background

``` r
map |> addLegendFactor(values = ~y, pal = factorPal, class = 'leaflet-control',
                       labelStyle = 'color: black;')
```

<div id="htmlwidget-a18e2402254b2d1bbfa3" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-a18e2402254b2d1bbfa3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; color: black;\"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; color: black;\"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; color: black;\"> C<\/span>\n<br/>","topleft",null,"leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Add Titles with Styling

``` r
map |> addLegendFactor(values = ~y, pal = factorPal, 
                       title = htmltools::tags$div('Red Title', 
                                                   style = 'color:red;'))
```

<div id="htmlwidget-4ab32516fbff924dba11" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4ab32516fbff924dba11">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<div>\n  <strong>\n    <div style=\"color:red;\">Red Title<\/div>\n  <\/strong>\n<\/div>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> C<\/span>\n<br/>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Change Label Styling

``` r
map |> addLegendFactor(values = ~y, pal = factorPal, 
                       labelStyle = 'color: blue; font-size: 10px;')
```

<div id="htmlwidget-32075e00a3075202e101" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-32075e00a3075202e101">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; color: blue; font-size: 10px;\"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; color: blue; font-size: 10px;\"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; color: blue; font-size: 10px;\"> C<\/span>\n<br/>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Symbol Styling

``` r
map |> addLegendFactor(values = ~y, pal = factorPal, shape = 'polygon',
                       fillOpacity = .5, width = 20, height = 20)
```

<div id="htmlwidget-951f31682957d6c401a6" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-951f31682957d6c401a6">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22polygon%22%20points%3D%2211%2C1%201.48943483704846%2C7.90983005625053%205.12214747707527%2C19.0901699437495%2016.8778525229247%2C19.0901699437495%2020.5105651629515%2C7.90983005625053%2011%2C1%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22polygon%22%20points%3D%2211%2C1%201.48943483704846%2C7.90983005625053%205.12214747707527%2C19.0901699437495%2016.8778525229247%2C19.0901699437495%2020.5105651629515%2C7.90983005625053%2011%2C1%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Cpolygon%20id%3D%22polygon%22%20points%3D%2211%2C1%201.48943483704846%2C7.90983005625053%205.12214747707527%2C19.0901699437495%2016.8778525229247%2C19.0901699437495%2020.5105651629515%2C7.90983005625053%2011%2C1%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> C<\/span>\n<br/>","topleft",null,"info legend leaflet-control"]}]},"evals":[],"jsHooks":[]}</script>

### Make Symbol Icons

``` r
symbolSet <- makeSymbolIcons(shape = c('rect', 'circle', 'triangle'), 
                             width = 10, color = 'grey', opacity = 1)
map |> addMarkers(lng = ~lng, lat = ~lat, icon = ~symbolSet[as.factor(y)])
```

<div id="htmlwidget-75f7e1b6c44c544bbc6f" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-75f7e1b6c44c544bbc6f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2210%22%20width%3D%2210%22%20stroke%3D%22grey%22%20fill%3D%22grey%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%3Ccircle%20id%3D%22circle%22%20cx%3D%226%22%20cy%3D%226%22%20r%3D%225%22%20stroke%3D%22grey%22%20fill%3D%22grey%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fcircle%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C11%2011%2C11%206%2C1%22%20stroke%3D%22grey%22%20fill%3D%22grey%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2]},"iconAnchorX":5,"iconAnchorY":5,"iconAnchorX.1":5,"iconUrl.1":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2210%22%20width%3D%2210%22%20stroke%3D%22grey%22%20fill%3D%22grey%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%3Ccircle%20id%3D%22circle%22%20cx%3D%226%22%20cy%3D%226%22%20r%3D%225%22%20stroke%3D%22grey%22%20fill%3D%22grey%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fcircle%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%3Cpolygon%20id%3D%22triangle%22%20points%3D%221%2C11%2011%2C11%206%2C1%22%20stroke%3D%22grey%22%20fill%3D%22grey%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E"]},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Make Symbols with Size Encodings

``` r
map |> addMarkers(lng = ~lng, lat = ~lat, 
                  icon = ~makeSymbolsSize(x, color = 'black', 
                                          fillColor = 'black', baseSize = 20, 
                                          fillOpacity = .5))
```

<div id="htmlwidget-5a40e158af2d7f101d33" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a40e158af2d7f101d33">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addMarkers","args":[[42,42,42,42,42],[-118,-119,-120,-121,-122],{"iconUrl":{"data":["data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2215.3333333333333%22%20height%3D%2215.3333333333333%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2213.3333333333333%22%20width%3D%2213.3333333333333%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%228.66666666666667%22%20height%3D%228.66666666666667%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%226.66666666666667%22%20width%3D%226.66666666666667%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2235.3333333333333%22%20height%3D%2235.3333333333333%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2233.3333333333333%22%20width%3D%2233.3333333333333%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2228.6666666666667%22%20height%3D%2228.6666666666667%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2226.6666666666667%22%20width%3D%2226.6666666666667%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E","data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2222%22%20height%3D%2222%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2220%22%20width%3D%2220%22%20stroke%3D%22black%22%20fill%3D%22black%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%220.5%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E"],"index":[0,1,2,3,4]},"iconAnchorX":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10],"iconAnchorY":[6.66666666666667,3.33333333333333,16.6666666666667,13.3333333333333,10]},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[42,42],"lng":[-122,-118]}},"evals":[],"jsHooks":[]}</script>

### Legends with Overlay Controls

``` r
map |> addLegendFactor(values = ~y, pal = factorPal, group = 'Legend') |> 
  addLayersControl(overlayGroups = 'Legend', 
                   options = layersControlOptions(collapsed = FALSE))
```

<div id="htmlwidget-4e6d8b6db7000c88b08f" style="width:768px;height:192px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4e6d8b6db7000c88b08f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"zoomControl":false},"calls":[{"method":"addControl","args":["<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%231B9E77%22%20fill%3D%22%231B9E77%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> A<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%23D95F02%22%20fill%3D%22%23D95F02%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> B<\/span>\n<br/>\n<img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2226%22%20height%3D%2226%22%3E%0A%20%20%3Crect%20id%3D%22rect%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2224%22%20width%3D%2224%22%20stroke%3D%22%237570B3%22%20fill%3D%22%237570B3%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; padding: 1px;\"/>\n<span style=\"vertical-align: middle; padding: 1px; \"> C<\/span>\n<br/>","topleft",null,"info legend leaflet-control leaflegend-group-Legend"]},{"method":"addLayersControl","args":[[],"Legend",{"collapsed":false,"autoZIndex":true,"position":"topright"}]}]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n                function(el, x) {\n                  var updateLeafLegend = function() {\n                    var controlGroups = document.querySelectorAll('input.leaflet-control-layers-selector');\n                    controlGroups.forEach(g => {\n                      var groupName = g.nextSibling.innerText.substr(1);\n                      var className = 'leaflegend-group-' + groupName.replace(/[^a-zA-Z0-9]/g, '');\n                      var checked = g.checked;\n                      document.querySelectorAll('.legend.' + className).forEach(l => {\n                        l.hidden = !checked;\n                      })\n                    })\n                  }\n\n                  updateLeafLegend();\n                  this.on('baselayerchange', el => updateLeafLegend())\n                  this.on('overlayadd', el => updateLeafLegend());\n                  this.on('overlayremove', el => updateLeafLegend());\n                }\n                        ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
